<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/tachyon.min.css">
    <link rel="stylesheet" href="css/mycss.css">
    <title>Polling App | Polls</title>
</head>

<body>
    <div id="overlay" style="display: none;">
		<img src="img/progressBar.gif" id="progressBar">
	</div>
    <div class="min-vh-100 pa1 pa3-ns avenir bg-washed-yellow flex flex-wrap flex-column">
        <header class="flex flex-wrap justify-center tc w-100 bb mb2">
            <h1 class="f1 lh-title fw1 mt0"> Polls </h1>
            <a class="f7 f5-ns link dim br2 ph3 pv2 dib white bg-dark-green fixed top-1 top-2-ns right-1 right-2-ns pointer"
                onclick="signOut()">Sign Out</a>
        </header>
        <div class="flex flex-wrap flex-column flex-row-ns justify-center w-100 pa2">
            <select name="pollSelect" id="pollSelect"
                class="pa1 br2 f4 ba b--transparent mh1 mv1 mv0-ns bg-dark-blue bg-black-70 white" style="flex-grow:1"
                onchange="loadPollQuestions()">
                <option class="f6 f4-ns">---Select a Poll---</option>
            </select>
            <div class="flex flex-row justify-center">
                <a class="f5 f4-ns link dim br2 ba ph3 pv2 dib dark-blue mh1 mv1 mv0-ns h-100 pointer"
                    onclick="loadActivePolls()">Refresh List</a>
                <a class="f5 f4-ns link dim br2 ba ph3 pv2 dib dark-blue mh1 mv1 mv0-ns h-100 pointer"
                    href="addpoll.html">Add Poll</a>
            </div>
        </div>
        <div id="current_poll"
            class="min-h-100 br3 ba b--dark-blue bg-white pa1 pa3-ns tc mh1 flex flex-wrap flex-column justify-start items-center flex-grow-1">
            No poll selected</div>
        <div class="flex flex-row w-100 justify-center mv1">
            <a id="poll_submit" class="f5 f4-ns link dim br2 ba ph3 pv2 bg-dark-blue white mh1 mv1 mv0-ns pointer dn"
                onclick="submitPollResponse()">Submit Poll</a>
            <a id="poll_result" class="f5 f4-ns link dim br2 ba ph3 pv2 dark-blue mh1 mv1 mv0-ns pointer dn"
                onclick="getPollResults()">Poll Results</a>
            <a id="poll_close" class="f5 f4-ns link dim br2 ba ph3 pv2 bg-dark-blue white mh1 mv1 mv0-ns pointer dn"
                onclick="closePoll()">Close Poll</a>
        </div>
    </div>
    <div id="errorDiv" class="fixed bottom-2 z-1 flex flex-wrap flex-row justify-center vp-center hidden">
        <div class="pa2 bg-lightest-blue black ba br-pill">
            <svg class="w1" data-icon="info" viewBox="0 0 32 32" style="fill:currentcolor">
                <title>info icon</title>
                <path
                    d="M16 0 A16 16 0 0 1 16 32 A16 16 0 0 1 16 0 M19 15 L13 15 L13 26 L19 26 z M16 6 A3 3 0 0 0 16 12 A3 3 0 0 0 16 6">
                </path>
            </svg>
            <span class="lh-title ml3" id="errorMsg"></span>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-firestore.js"></script>
    <script src="js\domPurify\dist\purify.min.js"></script>
    <script src="js/classes.js"></script>
    <script src="js/polls.js"></script>
</body>

</html>
